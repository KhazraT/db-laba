{% extends 'base.html' %}

{% block title %}
<title>Справочник</title>
{% endblock %}

{% block content %}
<a href="{% url 'home' %}" class="fixed-button">Вернуться назад</a>
<h1>Справочник</h1>
<div id="form-container-main">
    <form method="get">
        <div class="form-row">
            <!-- <input type="text" name="fam" placeholder="Фамилия"> -->
            <select name="fam" id="fam">
                <option value="Выберете фамилию">Выберете фамилию</option>
                {% for opt in fams %}
                <option value="{{opt.0}}">{{opt.0}}</option>
                {% endfor %}
            </select>
            <!-- <input type="text" name="name" placeholder="Имя"> -->
            <select name="name" id="name">
                <option value="Выберете имя">Выберете имя</option>
                {% for opt in names %}
                <option value="{{opt.0}}">{{opt.0}}</option>
                {% endfor %}
            </select>
            <!-- <input type="text" name="otc" placeholder="Отчество">
              -->
            <select name="otc" id="otc">
                <option value="Выберете отчество">Выберете отчество</option>
                {% for opt in otcs %}
                <option value="{{opt.0}}">{{opt.0}}</option>
                {% endfor %}
            </select>
            <!-- <input type="text" name="street" placeholder="Улица"> -->
            <select name="street" id="street">
                <option value="Выберете улицу">Выберете улицу</option>
                {% for opt in streets %}
                <option value="{{opt.0}}">{{opt.0}}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-row">
            <input type="text" name="bldn" maxlength="20" placeholder="Дом">
            <input type="text" name="bldn_kor" maxlength="20" placeholder="Корпус">
            <input type="number" min="0" name="appr" placeholder="Квартира">
            <input type="text" name="telef" minlength="12" maxlength="12" placeholder="Номер телефона">
        </div>
        <div class="form-row">
            <input type="submit" name="action" value="Добавить">
            <input type="submit" name="action" value="Удалить">
            <input type="submit" name="action" value="Найти">
            <input type="submit" name="action" value="Показать все записи">
        </div>
    </form>
</div>

<table id="table-main">
    <thead>
        <tr>
            <th>id</th>
            <th>Фамилия</th>
            <th>Имя</th>
            <th>Отчество</th>
            <th>Улица</th>
            <th>Дом</th>
            <th>Корпус</th>
            <th>Квартира</th>
            <th>Номер телефона</th>

        </tr>
    </thead>
    {% if rows %}
        <tbody>
            {% for row in rows %}
                <tr>
                    <td>{{ row.0 }}</td>
                    <td>{{ row.1 }}</td>
                    <td>{{ row.2 }}</td>
                    <td>{{ row.3 }}</td>
                    <td>{{ row.4 }}</td>
                    <td>{{ row.5 }}</td>
                    <td>{{ row.6 }}</td>
                    <td>{{ row.7 }}</td>
                    <td>{{ row.8 }}</td>
                </tr>
            {% endfor %}
        </tbody>
    {% endif %}
</table>
{% if not rows %}
    <h2>Таблица пока пустая :(</h2>
{% endif %}
{% endblock %}